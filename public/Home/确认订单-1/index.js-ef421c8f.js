!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("mls-pc/pages/index",[],t):"object"==typeof exports?exports["mls-pc/pages/index"]=t():e["mls-pc/pages/index"]=t()}(this,function(){return function(e){function t(i){if(r[i])return r[i].exports;var n=r[i]={exports:{},id:i,loaded:!1};return e[i].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}var n=r(1);i(n);window.console&&console.log("\u6b22\u8fce\u8bbf\u95ee\u8611\u83c7\u8857")},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function n(){var e=$(".seaAmoy .popover");$(".seaAmoy .trigger_popover").on("mouseenter",function(t){e.show()}).on("mouseleave",function(t){e.hide()})}var o=r(2),a=(i(o),r(3)),s=i(a),l=r(4),d=i(l),c=r(8),u=i(c),p=r(9),f=i(p),h={},m=$("#tpl_process_bar").html(),v=MoGu.ui.getTemplate(m,{}),g=$("#preChannel")[0],_=$("#preactivityId")[0],y=$("#preactivityType")[0],b=$("#preSkuPros")[0],x={};if(h={createOrderShopGroupReqDTOList:[],addressId:0,promotionKeyList:[],marketType:"market_meilishuo",extensions:{}},$("#preData").val()){x={postdata:$("#preData").val(),ptp:$("#preStockPtp").val()||$("#prePtp").val()||""},b&&(x.skuPros=$("#preSkuPros").val());var k=[],w=x.postdata&&x.postdata.split(","),O="",S=x.skuPros?JSON.parse(x.skuPros):{};try{O=x.ptp&&JSON.parse(x.ptp)}catch(C){}for(var M=0;M<w.length;M++){var L={},B=[];L.extensions={},M%2==0&&(L.skuId=w[M],w[M+1].indexOf("#")>-1?L.quantity=parseInt(w[M+1].split("#")[0]):L.quantity=parseInt(w[M+1]),L.extensions.ptp=O[w[M]],S[w[M]]&&B.push(S[w[M]]),L.promotionKeyList=B,k.push(L))}var P={createOrderSkuGroupReqDTOList:k,promotionKeyList:[]};if(h.createOrderShopGroupReqDTOList.push(P),g){var T=$("#preChannel").val();"2"==T?h.channel="channel_dapei":h.channel=T,_&&y&&(h.extensions.activityId=$("#preactivityId").val(),h.extensions.activityType=$("#preactivityType").val())}}$("#process_bar").html(v),$.ajax({url:"/ajax/confirmOrderActionlet/1",data:{data:JSON.stringify({createOrderRequestStr:JSON.stringify(h),marketType:"market_meilishuo"})},type:"POST",dataType:"json"}).done(function(e){var t=e.status.code,r=e.result;if("SUCCESS"==t){var i=[],o=[];r.selectedPromotionList.length&&r.selectedPromotionList[0].promotionKey&&o.push(r.selectedPromotionList[0].promotionKey),r.getImgThumbnailUrl=s["default"].getImgThumbnailUrl.bind(s["default"]);var a,l=r.shopGroupList;r.tagsFlag=!1;for(var c=0;c<l.length;c++)if(a=l[c],a.tagsDTO&&"DUOSHOU"==a.tagsDTO.sellerTag){r.tagsFlag=!0;break}console.log("flag",r.tagsFlag);var p=$("#tpl_pay_info").html(),m=MoGu.ui.getTemplate(p,r);$("#pay_info").html(m),n();for(var c=0;c<r.shopGroupList.length;c++){var a=r.shopGroupList[c],v=[],g=[];a.selectedPromotionList.length&&a.selectedPromotionList[0].promotionKey&&v.push(a.selectedPromotionList[0].promotionKey);var _={};_.comment=a.buyerComment||"",_.shopId=a.shopIdEsc||"",_.logisticsCode=a.selectedLogistics&&a.selectedLogistics.expressCode||"",_.promotionKeyList=v;for(var y=0;y<a.skuGroupList.length;y++){var b=a.skuGroupList[y],x=[];b.selectedPromotionList.length&&x.push(b.selectedPromotionList[0].promotionKey);var k={};k.skuId=b.skuIdEsc,k.quantity=b.quantity,k.promotionKeyList=x,k.extensions={ptp:!$.isEmptyObject(O)&&O[b.skuIdEsc]||""},g.push(k)}_.createOrderSkuGroupReqDTOList=g,i.push(_)}h.createOrderShopGroupReqDTOList=i,h.marketType="market_meilishuo",h.promotionKeyList=o,$("#postdata").val(JSON.stringify(h)),d["default"].init(),u["default"].init(),f["default"].init()}else{if("SESSION_INVALID"==t)return window.location.href=s["default"].ptpGen("http://www.meilishuo.com/user/login"),!1;if("FAIL_BIZ_REQUEST_INVALID_SHOP_GROUP_EMPTY"==t)return!1;MOGU.alert(e.status.msg)}})},function(e,t){"use strict";window.MOGU=window.MOGU||{};var r={};r.Util={mask:function(){var e=$(".light_box_fullbg");e.length<=0&&(e=$(['<div class="light_box_fullbg"></div>'].join("")),$("body").append(e))},show:function(e,t){var r,i,n,o=$("#vp_wrap"),a=$(".light_box_fullbg").eq(0);o.length<=0&&(o=$(['<div class="vp_wrap" id="vp_wrap">','<h5 class="vp_t"></h5>','<a href="javascript:;" class="vp_cls">\xd7</a>','<div class="v_pop_box"></div>',"</div>"].join("")),$("body").append(o),a.off("click").on("click",function(){clearTimeout(n),o.addClass("vp_shake"),n=setTimeout(function(){o.removeClass("vp_shake")},500)})),t.isShowCloser?o.find(".vp_cls").show():o.find(".vp_cls").hide(),o.find(".vp_t").html(t.title),i={alert:function(e){return r=$(".vp_alert"),r.length<=0?r=$(['<div class="vp_alert vp_inner">','<p class="vp_cnt"></p>','<a href="javascript:;" class="vp_btn vp_btn_'+e.btn.theme+' vp_ok">'+e.btn.text+"</a>","</div>"].join("")):r.find(".vp_btn").removeClass("vp_btn_red").removeClass("vp_btn_normal").addClass("vp_btn_"+e.btn.theme).html(e.btn.text),r.show().find(".vp_cnt").html(e.content),r},confirm:function(e){if(r=$(".vp_cfm"),r.length<=0)r=$(['<div class="vp_cfm vp_inner">','<p class="vp_cnt"></p>','<a href="javascript:;" class="vp_btn vp_btn_'+e.btn1.theme+' vp_ok">'+e.btn1.text+"</a>",'<a href="javascript:;" class="vp_btn vp_btn_'+e.btn2.theme+' vp_cancel">'+e.btn2.text+"</a>","</div>"].join(""));else{var t=r.find(".vp_btn");t.removeClass("vp_btn_red").removeClass("vp_btn_normal"),t.eq(0).addClass("vp_btn_"+e.btn1.theme).html(e.btn1.text),t.eq(1).addClass("vp_btn_"+e.btn2.theme).html(e.btn2.text)}return r.show().find(".vp_cnt").html(e.content),r}},o.find(".v_pop_box").append(i[e](t)),o.css({display:"block",opacity:0}).css({"margin-left":-o.width()/2-1,"margin-top":-o.height()/2-1,opacity:1}),a.show()},close:function(e,t){$(".light_box_fullbg").eq(0).hide(),$("#vp_wrap").find(".vp_inner").hide().end().hide(),void 0!==t&&"function"==typeof t&&t(e)}},MOGU.alert=function(e,t,i){var n=$.extend(!0,{title:"\u63d0\u793a",content:e,btn:{text:"\u786e\u5b9a",theme:"red",val:void 0},isShowCloser:!0,close_val:void 0},i),o=function(){$("#vp_wrap").off("click").on("click",".vp_ok",function(e){e.preventDefault(),r.Util.close(n.btn.val,t)}).on("click",".vp_cls",function(e){e.preventDefault(),r.Util.close(n.close_val,t)})};!function(){r.Util.mask(),r.Util.show("alert",n),o()}()},MOGU.confirm=function(e,t,i){var n=$.extend(!0,{title:"\u63d0\u793a",content:e,btn1:{text:"\u786e\u5b9a",theme:"red",val:!0},btn2:{text:"\u53d6\u6d88",theme:"normal",val:!1},isShowCloser:!0,close_val:!1},i),o=function(){$("#vp_wrap").off("click").on("click",".vp_ok",function(e){e.preventDefault(),r.Util.close(n.btn1.val,t)}).on("click",".vp_cancel",function(e){e.preventDefault()}).on("click",".vp_cls",function(e){e.preventDefault()})};!function(){r.Util.mask(),r.Util.show("confirm",n),o()}()},e.exports=MOGU},function(e,t){"use strict";var r={ptpGen:function(e){return window.logger?logger.generatePtpParams(e):e},getImgOriginalURL:function(e){var t=/\.png|\.jpg|\.gif|\.jpeg|\.webp/gi;return t.test(e)?(e=(e||"").split(t),e.slice(0,1).join("")+".jpg"):e},getImgThumbnailUrl:function(e,t,r){return/\/([a-zA-Z0-9]{28})_/.test(e)?e:(e=this.getImgOriginalURL(e),t&&r?[e,"_",t,"x",r,".jpg"].join(""):e)}};e.exports=r},function(e,t,r){function i(e){return e&&e.__esModule?e:{"default":e}}var n,o,a=r(5),s=(i(a),r(6)),l=i(s),d=r(7),c=i(d),u=r(3),p=i(u);n=[],o=function(){var t=function s(){var s=s||function(e,t){var r={},i=r.lib={},n=function(){},o=i.Base={extend:function(e){n.prototype=this;var t=new n;return e&&t.mixIn(e),t.hasOwnProperty("init")||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},a=i.WordArray=o.extend({init:function(e,r){e=this.words=e||[],this.sigBytes=r!=t?r:4*e.length},toString:function(e){return(e||l).stringify(this)},concat:function(e){var t=this.words,r=e.words,i=this.sigBytes;if(e=e.sigBytes,this.clamp(),i%4)for(var n=0;e>n;n++)t[i+n>>>2]|=(r[n>>>2]>>>24-8*(n%4)&255)<<24-8*((i+n)%4);else if(65535<r.length)for(n=0;e>n;n+=4)t[i+n>>>2]=r[n>>>2];else t.push.apply(t,r);return this.sigBytes+=e,this},clamp:function(){var t=this.words,r=this.sigBytes;t[r>>>2]&=4294967295<<32-8*(r%4),t.length=e.ceil(r/4)},clone:function(){var e=o.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var r=[],i=0;t>i;i+=4)r.push(4294967296*e.random()|0);return new a.init(r,t)}}),s=r.enc={},l=s.Hex={stringify:function(e){var t=e.words;e=e.sigBytes;for(var r=[],i=0;e>i;i++){var n=t[i>>>2]>>>24-8*(i%4)&255;r.push((n>>>4).toString(16)),r.push((15&n).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,r=[],i=0;t>i;i+=2)r[i>>>3]|=parseInt(e.substr(i,2),16)<<24-4*(i%8);return new a.init(r,t/2)}},d=s.Latin1={stringify:function(e){var t=e.words;e=e.sigBytes;for(var r=[],i=0;e>i;i++)r.push(String.fromCharCode(t[i>>>2]>>>24-8*(i%4)&255));return r.join("")},parse:function(e){for(var t=e.length,r=[],i=0;t>i;i++)r[i>>>2]|=(255&e.charCodeAt(i))<<24-8*(i%4);return new a.init(r,t)}},c=s.Utf8={stringify:function(e){try{return decodeURIComponent(escape(d.stringify(e)))}catch(t){throw Error("Malformed UTF-8 data")}},parse:function(e){return d.parse(unescape(encodeURIComponent(e)))}},u=i.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=c.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var r=this._data,i=r.words,n=r.sigBytes,o=this.blockSize,s=n/(4*o),s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0);if(t=s*o,n=e.min(4*t,n),t){for(var l=0;t>l;l+=o)this._doProcessBlock(i,l);l=i.splice(0,t),r.sigBytes-=n}return new a.init(l,n)},clone:function(){var e=o.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});i.Hasher=u.extend({cfg:o.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){u.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,r){return new e.init(r).finalize(t)}},_createHmacHelper:function(e){return function(t,r){return new p.HMAC.init(e,r).finalize(t)}}});var p=r.algo={};return r}(Math);return function(){var e=s,t=e.lib.WordArray;e.enc.Base64={stringify:function(e){var t=e.words,r=e.sigBytes,i=this._map;e.clamp(),e=[];for(var n=0;r>n;n+=3)for(var o=(t[n>>>2]>>>24-8*(n%4)&255)<<16|(t[n+1>>>2]>>>24-8*((n+1)%4)&255)<<8|t[n+2>>>2]>>>24-8*((n+2)%4)&255,a=0;4>a&&r>n+.75*a;a++)e.push(i.charAt(o>>>6*(3-a)&63));if(t=i.charAt(64))for(;e.length%4;)e.push(t);return e.join("")},parse:function(e){var r=e.length,i=this._map,n=i.charAt(64);n&&(n=e.indexOf(n),-1!=n&&(r=n));for(var n=[],o=0,a=0;r>a;a++)if(a%4){var s=i.indexOf(e.charAt(a-1))<<2*(a%4),l=i.indexOf(e.charAt(a))>>>6-2*(a%4);n[o>>>2]|=(s|l)<<24-8*(o%4),o++}return t.create(n,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(e){function t(e,t,r,i,n,o,a){return e=e+(t&r|~t&i)+n+a,(e<<o|e>>>32-o)+t}function r(e,t,r,i,n,o,a){return e=e+(t&i|r&~i)+n+a,(e<<o|e>>>32-o)+t}function i(e,t,r,i,n,o,a){return e=e+(t^r^i)+n+a,(e<<o|e>>>32-o)+t}function n(e,t,r,i,n,o,a){return e=e+(r^(t|~i))+n+a,(e<<o|e>>>32-o)+t}for(var o=s,a=o.lib,l=a.WordArray,d=a.Hasher,a=o.algo,c=[],u=0;64>u;u++)c[u]=4294967296*e.abs(e.sin(u+1))|0;a=a.MD5=d.extend({_doReset:function(){this._hash=new l.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,o){for(var a=0;16>a;a++){var s=o+a,l=e[s];e[s]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}var a=this._hash.words,s=e[o+0],l=e[o+1],d=e[o+2],u=e[o+3],p=e[o+4],f=e[o+5],h=e[o+6],m=e[o+7],v=e[o+8],g=e[o+9],_=e[o+10],y=e[o+11],b=e[o+12],x=e[o+13],$=e[o+14],k=e[o+15],w=a[0],O=a[1],S=a[2],C=a[3],w=t(w,O,S,C,s,7,c[0]),C=t(C,w,O,S,l,12,c[1]),S=t(S,C,w,O,d,17,c[2]),O=t(O,S,C,w,u,22,c[3]),w=t(w,O,S,C,p,7,c[4]),C=t(C,w,O,S,f,12,c[5]),S=t(S,C,w,O,h,17,c[6]),O=t(O,S,C,w,m,22,c[7]),w=t(w,O,S,C,v,7,c[8]),C=t(C,w,O,S,g,12,c[9]),S=t(S,C,w,O,_,17,c[10]),O=t(O,S,C,w,y,22,c[11]),w=t(w,O,S,C,b,7,c[12]),C=t(C,w,O,S,x,12,c[13]),S=t(S,C,w,O,$,17,c[14]),O=t(O,S,C,w,k,22,c[15]),w=r(w,O,S,C,l,5,c[16]),C=r(C,w,O,S,h,9,c[17]),S=r(S,C,w,O,y,14,c[18]),O=r(O,S,C,w,s,20,c[19]),w=r(w,O,S,C,f,5,c[20]),C=r(C,w,O,S,_,9,c[21]),S=r(S,C,w,O,k,14,c[22]),O=r(O,S,C,w,p,20,c[23]),w=r(w,O,S,C,g,5,c[24]),C=r(C,w,O,S,$,9,c[25]),S=r(S,C,w,O,u,14,c[26]),O=r(O,S,C,w,v,20,c[27]),w=r(w,O,S,C,x,5,c[28]),C=r(C,w,O,S,d,9,c[29]),S=r(S,C,w,O,m,14,c[30]),O=r(O,S,C,w,b,20,c[31]),w=i(w,O,S,C,f,4,c[32]),C=i(C,w,O,S,v,11,c[33]),S=i(S,C,w,O,y,16,c[34]),O=i(O,S,C,w,$,23,c[35]),w=i(w,O,S,C,l,4,c[36]),C=i(C,w,O,S,p,11,c[37]),S=i(S,C,w,O,m,16,c[38]),O=i(O,S,C,w,_,23,c[39]),w=i(w,O,S,C,x,4,c[40]),C=i(C,w,O,S,s,11,c[41]),S=i(S,C,w,O,u,16,c[42]),O=i(O,S,C,w,h,23,c[43]),w=i(w,O,S,C,g,4,c[44]),C=i(C,w,O,S,b,11,c[45]),S=i(S,C,w,O,k,16,c[46]),O=i(O,S,C,w,d,23,c[47]),w=n(w,O,S,C,s,6,c[48]),C=n(C,w,O,S,m,10,c[49]),S=n(S,C,w,O,$,15,c[50]),O=n(O,S,C,w,f,21,c[51]),w=n(w,O,S,C,b,6,c[52]),C=n(C,w,O,S,u,10,c[53]),S=n(S,C,w,O,_,15,c[54]),O=n(O,S,C,w,l,21,c[55]),w=n(w,O,S,C,v,6,c[56]),C=n(C,w,O,S,k,10,c[57]),S=n(S,C,w,O,h,15,c[58]),O=n(O,S,C,w,x,21,c[59]),w=n(w,O,S,C,p,6,c[60]),C=n(C,w,O,S,y,10,c[61]),S=n(S,C,w,O,d,15,c[62]),O=n(O,S,C,w,g,21,c[63]);a[0]=a[0]+w|0,a[1]=a[1]+O|0,a[2]=a[2]+S|0,a[3]=a[3]+C|0},_doFinalize:function(){var t=this._data,r=t.words,i=8*this._nDataBytes,n=8*t.sigBytes;r[n>>>5]|=128<<24-n%32;var o=e.floor(i/4294967296);for(r[(n+64>>>9<<4)+15]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),r[(n+64>>>9<<4)+14]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),t.sigBytes=4*(r.length+1),this._process(),t=this._hash,r=t.words,i=0;4>i;i++)n=r[i],r[i]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8);return t},clone:function(){var e=d.clone.call(this);return e._hash=this._hash.clone(),e}}),o.MD5=d._createHelper(a),o.HmacMD5=d._createHmacHelper(a)}(Math),function(){var e=s,t=e.lib,r=t.Base,i=t.WordArray,t=e.algo,n=t.EvpKDF=r.extend({cfg:r.extend({keySize:4,hasher:t.MD5,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var r=this.cfg,n=r.hasher.create(),o=i.create(),a=o.words,s=r.keySize,r=r.iterations;a.length<s;){l&&n.update(l);var l=n.update(e).finalize(t);n.reset();for(var d=1;r>d;d++)l=n.finalize(l),n.reset();o.concat(l)}return o.sigBytes=4*s,o}});e.EvpKDF=function(e,t,r){return n.create(r).compute(e,t)}}(),s.lib.Cipher||function(e){var t=s,r=t.lib,i=r.Base,n=r.WordArray,o=r.BufferedBlockAlgorithm,a=t.enc.Base64,l=t.algo.EvpKDF,d=r.Cipher=o.extend({cfg:i.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,r){this.cfg=this.cfg.extend(r),this._xformMode=e,this._key=t,this.reset()},reset:function(){o.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(e){return{encrypt:function(t,r,i){return("string"==typeof r?m:h).encrypt(e,t,r,i)},decrypt:function(t,r,i){return("string"==typeof r?m:h).decrypt(e,t,r,i)}}}});r.StreamCipher=d.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var c=t.mode={},u=function(t,r,i){var n=this._iv;n?this._iv=e:n=this._prevBlock;for(var o=0;i>o;o++)t[r+o]^=n[o]},p=(r.BlockCipherMode=i.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}})).extend();p.Encryptor=p.extend({processBlock:function(e,t){var r=this._cipher,i=r.blockSize;u.call(this,e,t,i),r.encryptBlock(e,t),this._prevBlock=e.slice(t,t+i)}}),p.Decryptor=p.extend({processBlock:function(e,t){var r=this._cipher,i=r.blockSize,n=e.slice(t,t+i);r.decryptBlock(e,t),u.call(this,e,t,i),this._prevBlock=n}}),c=c.CBC=p,p=(t.pad={}).Pkcs7={pad:function(e,t){for(var r=4*t,r=r-e.sigBytes%r,i=r<<24|r<<16|r<<8|r,o=[],a=0;r>a;a+=4)o.push(i);r=n.create(o,r),e.concat(r)},unpad:function(e){e.sigBytes-=255&e.words[e.sigBytes-1>>>2]}},r.BlockCipher=d.extend({cfg:d.cfg.extend({mode:c,padding:p}),reset:function(){d.reset.call(this);var e=this.cfg,t=e.iv,e=e.mode;if(this._xformMode==this._ENC_XFORM_MODE)var r=e.createEncryptor;else r=e.createDecryptor,this._minBufferSize=1;this._mode=r.call(e,this,t&&t.words)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){e.pad(this._data,this.blockSize);var t=this._process(!0)}else t=this._process(!0),e.unpad(t);return t},blockSize:4});var f=r.CipherParams=i.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),c=(t.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext;return e=e.salt,(e?n.create([1398893684,1701076831]).concat(e).concat(t):t).toString(a)},parse:function(e){e=a.parse(e);var t=e.words;if(1398893684==t[0]&&1701076831==t[1]){var r=n.create(t.slice(2,4));t.splice(0,4),e.sigBytes-=16}return f.create({ciphertext:e,salt:r})}},h=r.SerializableCipher=i.extend({cfg:i.extend({format:c}),encrypt:function(e,t,r,i){i=this.cfg.extend(i);var n=e.createEncryptor(r,i);return t=n.finalize(t),n=n.cfg,f.create({ciphertext:t,key:r,iv:n.iv,algorithm:e,mode:n.mode,padding:n.padding,blockSize:e.blockSize,formatter:i.format})},decrypt:function(e,t,r,i){return i=this.cfg.extend(i),t=this._parse(t,i.format),e.createDecryptor(r,i).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),t=(t.kdf={}).OpenSSL={execute:function(e,t,r,i){return i||(i=n.random(8)),e=l.create({keySize:t+r}).compute(e,i),r=n.create(e.words.slice(t),4*r),e.sigBytes=4*t,f.create({key:e,iv:r,salt:i})}},m=r.PasswordBasedCipher=h.extend({cfg:h.cfg.extend({kdf:t}),encrypt:function(e,t,r,i){return i=this.cfg.extend(i),r=i.kdf.execute(r,e.keySize,e.ivSize),i.iv=r.iv,e=h.encrypt.call(this,e,t,r.key,i),e.mixIn(r),e},decrypt:function(e,t,r,i){return i=this.cfg.extend(i),t=this._parse(t,i.format),r=i.kdf.execute(r,e.keySize,e.ivSize,t.salt),i.iv=r.iv,h.decrypt.call(this,e,t,r.key,i)}})}(),function(){for(var e=s,t=e.lib.BlockCipher,r=e.algo,i=[],n=[],o=[],a=[],l=[],d=[],c=[],u=[],p=[],f=[],h=[],m=0;256>m;m++)h[m]=128>m?m<<1:m<<1^283;for(var v=0,g=0,m=0;256>m;m++){var _=g^g<<1^g<<2^g<<3^g<<4,_=_>>>8^255&_^99;i[v]=_,n[_]=v;var y=h[v],b=h[y],x=h[b],$=257*h[_]^16843008*_;o[v]=$<<24|$>>>8,a[v]=$<<16|$>>>16,l[v]=$<<8|$>>>24,d[v]=$,$=16843009*x^65537*b^257*y^16843008*v,c[_]=$<<24|$>>>8,u[_]=$<<16|$>>>16,p[_]=$<<8|$>>>24,f[_]=$,v?(v=y^h[h[h[x^y]]],g^=h[h[g]]):v=g=1}var k=[0,1,2,4,8,16,32,64,128,27,54],r=r.AES=t.extend({_doReset:function(){for(var e=this._key,t=e.words,r=e.sigBytes/4,e=4*((this._nRounds=r+6)+1),n=this._keySchedule=[],o=0;e>o;o++)if(r>o)n[o]=t[o];else{var a=n[o-1];o%r?r>6&&4==o%r&&(a=i[a>>>24]<<24|i[a>>>16&255]<<16|i[a>>>8&255]<<8|i[255&a]):(a=a<<8|a>>>24,a=i[a>>>24]<<24|i[a>>>16&255]<<16|i[a>>>8&255]<<8|i[255&a],a^=k[o/r|0]<<24),n[o]=n[o-r]^a}for(t=this._invKeySchedule=[],r=0;e>r;r++)o=e-r,a=r%4?n[o]:n[o-4],t[r]=4>r||4>=o?a:c[i[a>>>24]]^u[i[a>>>16&255]]^p[i[a>>>8&255]]^f[i[255&a]]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,o,a,l,d,i)},decryptBlock:function(e,t){var r=e[t+1];e[t+1]=e[t+3],e[t+3]=r,this._doCryptBlock(e,t,this._invKeySchedule,c,u,p,f,n),r=e[t+1],e[t+1]=e[t+3],e[t+3]=r},_doCryptBlock:function(e,t,r,i,n,o,a,s){for(var l=this._nRounds,d=e[t]^r[0],c=e[t+1]^r[1],u=e[t+2]^r[2],p=e[t+3]^r[3],f=4,h=1;l>h;h++)var m=i[d>>>24]^n[c>>>16&255]^o[u>>>8&255]^a[255&p]^r[f++],v=i[c>>>24]^n[u>>>16&255]^o[p>>>8&255]^a[255&d]^r[f++],g=i[u>>>24]^n[p>>>16&255]^o[d>>>8&255]^a[255&c]^r[f++],p=i[p>>>24]^n[d>>>16&255]^o[c>>>8&255]^a[255&u]^r[f++],d=m,c=v,u=g;m=(s[d>>>24]<<24|s[c>>>16&255]<<16|s[u>>>8&255]<<8|s[255&p])^r[f++],v=(s[c>>>24]<<24|s[u>>>16&255]<<16|s[p>>>8&255]<<8|s[255&d])^r[f++],g=(s[u>>>24]<<24|s[p>>>16&255]<<16|s[d>>>8&255]<<8|s[255&c])^r[f++],p=(s[p>>>24]<<24|s[d>>>16&255]<<16|s[c>>>8&255]<<8|s[255&u])^r[f++],e[t]=m,e[t+1]=v,e[t+2]=g,e[t+3]=p},keySize:8});e.AES=t._createHelper(r)}(),s.pad.ZeroPadding={pad:function(e,t){var r=4*t;e.clamp(),e.sigBytes+=r-(e.sigBytes%r||r)},unpad:function(e){for(var t=e.words,r=e.sigBytes-1;!(t[r>>>2]>>>24-r%4*8&255);)r--;e.sigBytes=r+1}},s},r=function(e){function t(t,r,i){return e.AES.encrypt(i,t,{iv:r,mode:e.mode.CBC,padding:e.pad.ZeroPadding}).toString()}function r(t,r,i){return e.AES.decrypt(i,t,{iv:r,mode:e.mode.CBC,padding:e.pad.ZeroPadding}).toString(e.enc.Utf8)}return{getKey:function(t){var r=e.MD5(t)+"",i=r.substr(0,16);return e.enc.Utf8.parse(i)},encrypt:function(e,r){var i,n;return i=n=this.getKey(e),t(i,n,r)},encryptData:function(e,r){var i,n;i=n=this.getKey(e);for(var o in r)r.hasOwnProperty(o)&&null!==r[o]&&(r[o]=t(i,n,r[o].toString()));return r},decrypt:function(e,t){var i,n;return i=n=this.getKey(e),r(i,n,t.replace(/\s+/g,""))},decryptData:function(e,t){var i,n;i=n=this.getKey(e);for(var o in t)t.hasOwnProperty(o)&&null!==t[o]&&(t[o]=r(i,n,t[o].toString()));return t},getSrandNum:function(e,t){var r={};null!=t&&(r.seed=t),$.ajax({url:a,data:r,type:"POST",dataType:"json",success:function(t){1001===t.status.code?"function"==typeof e&&e(t.result.randNum):MOGU.alert(t.result||t.status.msg)},error:function(){$.alert("\u7f51\u7edc\u9519\u8bef\uff0c\u8bf7\u91cd\u8bd5")}})}}},i=i||{};i.order=function(){var e=$("#orderForm"),i=$("#addressId"),a=($("#postdata"),$(".goodsSum")),s=$("#cashReduce"),d=$("#cashReduceScreen"),u=$(".shopSum"),f=($("#J_otherCalcResult"),$(".shopPromo")),h=$(".J_ShipExpense"),m=$(".itemSum"),v=$(".cartItemPromo"),g=($(".ableXCHF"),$(".disableXCHF"),$(".cart_surebtn")),_=$("#cartPayMethod"),y=$("#body_wrap"),b=['<div class="id_validate_box">',"<h4>\u60a8\u8fd8\u6ca1\u6709\u586b\u5199\u8eab\u4efd\u8bc1\u4fe1\u606f</h4>","<h4>\u8eab\u4efd\u8bc1\u4fe1\u606f\u7f3a\u5931\u4f1a\u5bfc\u81f4\u60a8\u7684\u5546\u54c1\u65e0\u6cd5\u901a\u8fc7\u4e2d\u56fd\u6d77\u5173\uff01</h4>",'<div class="lb-action lb-action-w322">','<a href="javascript:;" class="lb-pay-btn up-pay-btn primary">\u5148\u4f20\u518d\u4ed8\u6b3e</a>',"</div>"].join(""),x=["{{=it.desc}}{{=(it.price/100).toFixed(2)}}\u5143"].join(""),k=['<td colspan="6" class="pr20" style="text-align:right;border-bottom: none;padding-bottom:0;">','<p class="cart_table_discount cart_fix_fbox fr ">{{=it.redPacketDTO.desc}}\uff1a<span class="ui-red">{{=(it.redPacketDTO.price/100).toFixed(2)}}\u5143</span> </p>',"</td>"].join(""),w=["{{~it.promotionList:promo}}",'<option value="{{=promo.promotionKey}}" {{?promo.promotionKey==it.selectedPromotionList[0].promotionKey}}selected="selected"{{?}}>{{=promo.promotionDesc}}</option>',"{{~}}"].join(""),O=['<span class="cart_table_disduce cart_bold shopPromoDuce pl10 fr">- \xa5 {{=(it.selectedPromotionList[0].discountFee/100).toFixed(2)}}</span>','<label for="">\u5e97\u94fa\u4f18\u60e0\uff1a</label>','<select name="" class="shopPromoSel cart_vm">',"{{~it.promotionList:shopPromitem}}",'<option value="{{=shopPromitem.promotionKey}}" {{?shopPromitem.promotionKey==it.selectedPromotionList[0].promotionKey}}selected="selected"{{?}}>{{=shopPromitem.promotionDesc}}</option>',"{{~}}","</select>"].join(""),S=["{{~it.logisticsList:log}}",'<option value="{{=log.expressCode}}" {{?log.expressCode==it.selectedLogistics.expressCode}}selected="selected"{{?}}>{{=log.expressName}}</option>',"{{~}}"].join(""),C=null,M=function(e){return(+e/100).toFixed(2)},L=function(e){console.warn(e),e.address&&$(".telephone").html("\u652f\u4ed8\u5c3e\u6b3e\u77ed\u4fe1\u901a\u77e5\uff1a"+e.address.mobile);var t=0,r="",i=(+$(".modou-cut-money").html(),M(e.totalPrice));a.attr("finalprice",i),"\u652f\u4ed8\u5b9a\u91d1"!=$(".cart_surebtn").html()?a.html(i):a.html("\xa5"+M(e.shopGroupList[0].stage.goodsPrice)),$(".max-modou-use").val(e.modouAvailable),$(".modou-left").html("\uff08\u53ef\u7528"+e.modouAvailable+"\u7c92\uff09"),$(".modou-use-num").trigger("keyup");var n=$("#modou_max");if(n.length>0&&"false"!=n.val()){var o=$("#sub_modou_num");o.val(e.modou),o.val(e.modou),$("#no_modou_price").val(e.payFinalPrice),n.val(e.maxModou),o.trigger("blur")}if(e.redPacketDTO?$("#redPacket").html(MoGu.ui.getTemplate(k,e)):$("#redPacket").html(""),e.selectedPromotionList&&e.selectedPromotionList.length>0)if(r=MoGu.ui.getTemplate(w,e),$("#cashReduce").length)s.html(r),d.html("- "+M(e.selectedPromotionList[0].discountFee)+"\u5143");else{var l=MoGu.ui.getTemplate(addAllPromoTpl,e);$("tbody").append(l)}else $("#cashReduce").length&&$(".discart-otherinfo").remove();$.each(e.shopGroupList,function(r,i){var n,o,a=i.skuGroupList;"\u652f\u4ed8\u5b9a\u91d1"!=$(".cart_surebtn").html()?u.eq(r).html(M(i.totalPrice)):u.eq(r).html(M(e.shopGroupList[0].stage.goodsPrice));var s=f.filter("[data-groupid="+i.sellerUserIdEsc+"]");if(i.selectedPromotionList&&i.selectedPromotionList.length>0)if(s.find(".shopPromoSel")[0])n=MoGu.ui.getTemplate(w,i),s.find(".shopPromoSel").html(n).end().find(".shopPromoDuce").html("- \xa5 "+M(i.selectedPromotionList[0].discountFee));else{var l=MoGu.ui.getTemplate(O,i);s.html(l)}else s.find(".shopPromoSel")[0]&&s.html("");var d=i.selectedLogistics.postage||0;h.filter("[data-groupid="+i.sellerUserIdEsc+"]").html(M(d));var c=$(".shopLogi").filter("[data-groupid="+i.sellerUserIdEsc+"]");if(i.logisticsList&&i.logisticsList.length>0&&i.logisticsList[0].expressCode)if(c.find(".postage").length)o=MoGu.ui.getTemplate(S,i),$(".postage").filter("[data-groupid="+i.sellerUserIdEsc+"]").html(o);else{i.shopindex=r;var p=MoGu.ui.getTemplate(addLogTpl,i);c.html(p)}else c.length&&c.html("");a&&a.length&&$.each(a,function(e,r){m.eq(t).html(M(r.totalPrice)),r.redPacketDTO?$(".ui-red-packet-info").eq(t).html(MoGu.ui.getTemplate(x,r.redPacketDTO)):$(".ui-red-packet-info").eq(t).html("");var i=v.eq(t).find("select.stockpro").eq(0);v.eq(t).find(".J_extraPromo").eq(0);if(i.length>0){var n=MoGu.ui.getTemplate(w,r);r.selectedPromotionList&&r.selectedPromotionList.length&&(i.html(n),i.next().html("\u7701"+M(r.selectedPromotionList[0].discountFee)+"\u5143"))}t++})})},B=function(){var e=$(".cart_table_note");MOGU.Globe_Input_Text_Hide(e),e.trigger("blur")},P=function(){var t=function(){var t=(g.eq(0).attr("data-url")||"/mls/order/list4buyer?from=pay",navigator.userAgent.toLocaleLowerCase().indexOf("ipad")>=0);t?(e.removeAttr("target"),G()):G()};"\u652f\u4ed8\u5b9a\u91d1"==$(".cart_surebtn").html()?$.confirm("<p>\u786e\u8ba4\u63d0\u4ea4\u8ba2\u5355\uff1f</p><p>\u5b9a\u91d1\u4e00\u65e6\u652f\u4ed8\uff0c\u975e\u5356\u5bb6\u539f\u56e0\uff0c\u4e0d\u4e88\u9000\u56de</p>",function(e){e&&t()},{btn1:{text:"\u786e\u5b9a",theme:"red",val:!0},btn2:{text:"\u53d6\u6d88",theme:"normal",val:!1}}):(console.log(1),t())},T=function(){var e={};return e.uuid=MGTOOL.getCookie("__mgjuuid"),e.cps=MGTOOL.getCookie("__cps"),e.cpsUnion=MGTOOL.getCookie("__cps_union"),e},G=function(){var e=parseInt($("#addressId").val()),t=$("#postdata").val(),r=JSON.parse(t);$(".cart_table_note").each(function(e,t){var i=$(this);i.val()===i.attr("def-v")&&i.val(""),r.createOrderShopGroupReqDTOList[e].comment=i.val()}),r.addressId=e,r.extensions=$.extend({},r.extensions,T()),r.modouInUse=parseInt($(".modou-use-num").attr("old-value")),$.ajax({url:"/ajax/createOrderActionlet/1",data:{data:JSON.stringify({createOrderRequestStr:JSON.stringify(r),marketType:"market_meilishuo"})},type:"POST",dataType:"json"}).done(function(e){var t=e.status.code;if("SUCCESS"==t){var r=e.result.modouInUseEsc,i=(e.result.payOrderId,e.result.payId);e.result.createOrderShopOrderResDTOList;e.result.goPayFlag&&(i?location.href=p["default"].ptpGen("https://cashier.meilishuo.com/trade/mgjpay/requestnew?payId="+i+"&modouUse="+r):MOGU.confirm("\u6536\u94f6\u53f0\u7e41\u5fd9\uff0c\u8bf7\u7a0d\u540e\u518d\u5c1d\u8bd5\u4ed8\u6b3e",function(){location.href=p["default"].ptpGen("http://buyer.meilishuo.com/mls/order/list4buyer")},{isShowCloser:!1}))}else MOGU.alert(e.status.msg)})},I=function(){C=JSON.parse($("#postdata").val()),l["default"].init(),B(),$(".auth-certify")[0]&&(t=t(),r=r(t),$(".check_law").on("click",function(e){return MOGU.alert($(e.target).attr("data-law")),!1})),y.on("click",".cart_surebtn",function(e){e.preventDefault();var t=$(this);if($(".js-presale-checkobox").length>0&&!$(".js-presale-checkobox").is(":checked"))return void MOGU.alert("\u8bf7\u9605\u8bfb\u5e76\u52fe\u9009\u9884\u552e\u6761\u6b3e,\u518d\u63d0\u4ea4\u8ba2\u5355\u54e6");if(!t.hasClass("cart_surebtn_disable")){var a=i.val(),s=$("#virtualAddressId");if(s.length>0&&(a=s.val(),"-2"==a&&i.val(a)),""===a)return void MOGU.alert("\u8bf7\u586b\u5199\u6536\u8d27\u5730\u5740");var l=$.trim($("#cartAddress").find("li").filter("[data-aid="+a+"]").find(".cart_address_mobile").eq(0).html()),d=function(e){return/^1[0-9][0-9]\d{8}$/.test(e)?!0:!(0===e.indexOf("1")||!/^[0-9\-]{10,16}$/.test(e))};if(0==s.length&&!d(l))return void MOGU.alert("\u60a8\u586b\u5199\u7684\u6536\u8d27\u5730\u5740\u8054\u7cfb\u53f7\u7801\u6709\u8bef\uff0c\u8bf7\u4fee\u6539\u540e\u91cd\u65b0\u63d0\u4ea4");if($("#modou_max").length>0&&"false"!=$("#modou_max").val()&&$(".modou_use_errortip").hasClass("is_error"))return void MOGU.alert("\u60a8\u586b\u5199\u7684\u8611\u8c46\u6570\u91cf\u6709\u8bef\uff0c\u8bf7\u4fee\u6539\u540e\u91cd\u65b0\u63d0\u4ea4");if($(".auth-certify")[0])if(n.idCardName=$('input[name="idCardName"]').val(),n.idCardNum=$('input[name="idCardNum"]').val(),n.idCardName&&n.idCardNum){if(n.idCardName!=$(".cart_address_card.selected").find(".cart_address_tit").html())return void MOGU.alert("\u8eab\u4efd\u8bc1\u59d3\u540d\u548c\u6536\u8d27\u4eba\u59d3\u540d\u5fc5\u987b\u4e00\u81f4");if(!/^\w{18}$/.test(n.idCardNum))return void MOGU.alert("\u8bf7\u586b\u5199\u6b63\u786e\u7684\u8eab\u4efd\u8bc1\u53f7");r.getSrandNum(function(e){var t=$(".cart_address_card.selected").find(".cart_address_tit").html();n.idCardName=r.encrypt(e,n.idCardName),n.idCardNum=r.encrypt(e,n.idCardNum),n.orderType="b",n.receiverName=r.encrypt(e,t),$.post(o,n,"json").then(function(e){return e=$.parseJSON(e),e&&e.status.code&&1001==e.status.code?void P():void MOGU.alert(e.status.msg)})})}else{var u={title:" ",lightBoxId:"pc_id_validate_alert",contentHtml:b,scroll:!0,isBgClickClose:!1,closeCallBack:function(){}},p=new c["default"](u);p.init(),$(".lb-pay-btn").on("click",function(e){var t=$(e.target);t.hasClass("up-pay-btn")?p.close():t.hasClass("pay-up-btn")&&P()})}else if($(".cart_up_auth")[0]){if($(".authedName").html()!=$(".cart_address_card.selected").find(".cart_address_tit").html())return void MOGU.alert("\u8eab\u4efd\u8ba4\u8bc1\u59d3\u540d\u987b\u4e0e\u6536\u8d27\u4eba\u59d3\u540d\u4e00\u81f4\uff01");P()}else P()}}),e.on("change:data",function(e,t){var r,n={},o={};if($("#preStockPtp").val())try{o=JSON.parse($("#preStockPtp").val())}catch(e){}else if($("#prePtp").val())try{o=JSON.parse($("#prePtp").val())}catch(e){}n.marketType="market_meilishuo",r=t&&t.addressId?t.addressId:i.val()||0,C.addressId=parseInt(r),n.payMethod=_.find("input").filter(":checked").val(),$.ajax({url:"/ajax/confirmOrderActionlet/1",data:{data:JSON.stringify({createOrderRequestStr:JSON.stringify(C),marketType:"market_meilishuo"})},type:"POST",dataType:"json",success:function(e){if("SUCCESS"===e.status.code){var t=e.result,r=[],i=[];t.selectedPromotionList.length&&t.selectedPromotionList[0].promotionKey&&i.push(t.selectedPromotionList[0].promotionKey),L(t);for(var n=0;n<t.shopGroupList.length;n++){var a=t.shopGroupList[n],s=[],l=[];a.selectedPromotionList.length&&a.selectedPromotionList[0].promotionKey&&s.push(a.selectedPromotionList[0].promotionKey);var d={};d.comment=a.buyerComment||"",d.shopId=a.shopIdEsc||"",
d.logisticsCode=a.selectedLogistics&&a.selectedLogistics.expressCode||"",d.promotionKeyList=s;for(var c=0;c<a.skuGroupList.length;c++){var u,p=a.skuGroupList[c],f=[];p.selectedPromotionList.length&&f.push(p.selectedPromotionList[0].promotionKey);var h={};h.skuId=p.skuIdEsc,h.quantity=p.quantity,h.promotionKeyList=f,u=o[p.skuIdEsc]||"",h.extensions={ptp:u},l.push(h)}d.createOrderSkuGroupReqDTOList=l,r.push(d)}C.createOrderShopGroupReqDTOList=r,C.marketType="market_meilishuo",C.promotionKeyList=i,$("#postdata").val(JSON.stringify(C))}}})}),y.on("change",".stockpro",function(){var t=$(this),r=t.parent(),i=+r.attr("data-itemindex"),n=(r.attr("data-groupid"),+r.attr("data-shopindex")),o=[];o.push(t.val()),C.createOrderShopGroupReqDTOList[n].createOrderSkuGroupReqDTOList[i].promotionKeyList=o,e.trigger("change:data")}),y.on("change",".shopPromoSel",function(){var t=$(this),r=t.parents(".shopPromo"),i=(r.attr("data-groupid"),+r.attr("data-shopindex")),n=[];n.push(t.val()),C.createOrderShopGroupReqDTOList[i].promotionKeyList=n,e.trigger("change:data")}),y.on("change",".postage",function(){var t=$(this),r=(t.attr("data-groupid"),+t.attr("data-shopindex"));C.createOrderShopGroupReqDTOList[r].logisticsCode=t.val(),e.trigger("change:data")}),y.on("change","#cashReduce",function(){var t=$(this),r=[];r.push(t.val()),C.promotionKeyList=r,e.trigger("change:data")})};I()},e.exports={init:i.order};var n={},o="/security/authinfo/apply",a="/security/authinfo/getSrandNum"}.apply(t,n),!(void 0!==o&&(e.exports=o))},function(e,t,r){var i;i=function(){return window.MOGU=MOGU||{},MOGU.alert=MOGU.alert||function(e){alert(e)},function(e){function t(e,t,r){this.init(e,t,r)}var r=null,i=['<div class="__addressPop">','<dl class="address_pop">','<input type="hidden" class="J_addressid" name="addressId" value="" />',"<dt>\u7701\uff1a</dt>",'<dd class="pt_ie6hack">','<i class="needicon">*</i>','<select name="province" class="J_province J_select w140 vm"> </select>','<label class="dt" for="">\u5e02\uff1a</label>','<select name="city" class="J_city J_select w100 vm"> </select>','<label class="dt" for="">\u533a\uff1a</label>','<select name="area" class="J_area J_select w100 vm"> </select>','<span class="prompt"></span>',"</dd>","<dt>\u90ae\u653f\u7f16\u7801\uff1a</dt>","<dd>",'<i class="needicon">*</i>','<input type="text" data-type="c" data-errormsg="\u8bf7\u586b\u5199\u6b63\u786e\u7684\u90ae\u653f\u7f16\u7801" data-normal="" class="text formsize_normal J_postcode J_form vm" name="postcode">','<span class="prompt"></span>',"</dd>","<dt>\u8857\u9053\u5730\u5740\uff1a</dt>","<dd>",'<i class="needicon">*</i>','<textarea data-type="*" data-min="5" data-max="100" data-normal="\u8bf7\u586b\u5199\u8857\u9053\u5730\u5740\uff0c\u6700\u5c115\u4e2a\u5b57\uff0c\u6700\u591a\u4e0d\u80fd\u8d85\u8fc7100\u4e2a\u5b57" data-errormsg="\u8bf7\u586b\u5199\u8857\u9053\u5730\u5740\uff0c\u6700\u5c115\u4e2a\u5b57\uff0c\u6700\u591a\u4e0d\u80fd\u8d85\u8fc7100\u4e2a\u5b57" class="textarea formsize_large J_street J_form" name="street" cols="30" rows="3"></textarea>','<span class="prompt breakline">\u8bf7\u586b\u5199\u8857\u9053\u5730\u5740\uff0c\u6700\u5c115\u4e2a\u5b57\uff0c\u6700\u591a\u4e0d\u80fd\u8d85\u8fc7100\u4e2a\u5b57</span>',"</dd>","<dt>\u6536\u8d27\u4eba\u59d3\u540d\uff1a</dt>","<dd>",'<i class="needicon">*</i>','<input type="text" data-type="*" data-errormsg="\u8bf7\u586b\u5199\u6536\u8d27\u4eba" data-normal="" class="text formsize_normal J_name J_form vm" name="name">','<span class="prompt"></span>',"</dd>","<dt>\u624b\u673a\uff1a</dt>","<dd>",'<i class="needicon">*</i>','<input type="text" data-type="phone" data-errormsg="\u8bf7\u586b\u5199\u6b63\u786e\u7684\u8054\u7cfb\u53f7\u7801" data-normal="" class="text formsize_normal J_mobile J_form vm" name="mobile">','<span class="prompt"></span>',"</dd>","<dt></dt>",'<dd class="pt10 oper_btn">','<a href="javascript:;" class="confirm_btn J_okbtn mr10">\u786e\u8ba4\u5730\u5740</a>','<a href="javascript:;" class="cancel_btn J_cancelbtn">\u53d6\u6d88</a>',"</dd>","</dl>","</div>"].join(""),n=['{{if (it.def === "def") { }}','<option value="{{=it.id}}" {{ if (it.index === 0) { }} selected="selected" {{ } }}>{{=it.name}}</option>',"{{ } else { }}",'<option value="{{=it.id}}" {{ if (it.name === it.def) { }} selected="selected" {{ } }}>{{=it.name}}</option>',"{{ } }}"].join(""),o=["postcode","street","name","mobile","addressId"],a=function(e){return"string"!=typeof e?e:e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")},s=function(e){for(var t in e)e[t]=a(e[t]);return e};t.prototype.init=function(t,r,n){this.box=t,this.$pop=e(i),this.box.append(this.$pop),this.$forms={},this.$forms.province=this.$pop.find(".J_province").eq(0),this.$forms.city=this.$pop.find(".J_city").eq(0),this.$forms.area=this.$pop.find(".J_area").eq(0),this.$forms.postcode=this.$pop.find(".J_postcode").eq(0),this.$forms.street=this.$pop.find(".J_street").eq(0),this.$forms.name=this.$pop.find(".J_name").eq(0),this.$forms.mobile=this.$pop.find(".J_mobile").eq(0),this.$forms.addressId=this.$pop.find(".J_addressid").eq(0),this.option={inter:"/trade/address/addfororder"},this.set(r,n),this.initEvent()},t.prototype.set=function(t,r){r=r||{},this.option=e.extend(this.option,r),delete this.option.address,r.address=r.address||null,this.address=e.extend({postcode:"",street:"",name:"",mobile:"",addressId:"",province:"",city:"",area:""},r.address),"function"==typeof t&&(this.callback=t),this.address.province&&this.address.city&&this.address.area?this.resetAreaSelect(this.address.province,this.address.city,this.address.area):this.resetAreaSelect();for(var i=function(e,t){e.removeClass("error").val(t),e.next().removeClass("notice").html(e.attr("data-normal"))},n=0,a=o.length;a>n;n++)i(this.$forms[o[n]],this.address[o[n]])},t.prototype.show=function(){this.box.show()},t.prototype.updateAddressSelect=function(t,r,i,o,a){var s={};s.level=r,i&&(s.parentId=i),e.ajax({url:"/trade/address/getaddrmap",data:s,type:"GET",dataType:"json",success:function(e){if(e&&e.status&&1001===e.status.code){for(var r=e.result,i=[],s=0,l=r.length;l>s;s++){var d={index:s,id:r[s].id,name:r[s].placeZh,def:o||"def"};i.push(MoGu.ui.getTemplate(n,d))}t.html(i.join("")),"function"==typeof a&&a()}else e&&e.status?MOGU.alert(e.status.msg):MOGU.alert("\u7f51\u7edc\u9519\u8bef\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5")}})},t.prototype.resetAreaSelect=function(e,t,r){var i=this;i.updateAddressSelect(i.$forms.province,1,null,e,function(){i.$forms.province.trigger("change",[t,r])})},t.prototype.initEvent=function(){var t=this;t.$pop.find(".J_form").on("blur",function(){var t,r=e(this),i=r.next(),n=null,o=1,a=r.attr("data-type"),s=e.trim(r.val()),l=r.attr("data-errormsg"),d=r.attr("data-normal"),c=!0;switch(a){case"c":(isNaN(s)||6!==s.length)&&(c=!1);break;case"*":t=r.attr("data-min"),t&&(o=+t),t=r.attr("data-max"),t&&(n=+t),(s.length<o||n&&s.length>n)&&(c=!1);break;case"phone":c=!1,/^1[3|4|5|7|8][0-9]\d{8}$/.test(s)&&(c=!0)}c?(i.removeClass("notice").html(d),r.removeClass("error")):(i.addClass("notice").html(l),r.addClass("error"))}),t.$pop.on("click",".J_okbtn",function(r){r.preventDefault();var i={},n=e(this);if(!n.hasClass("disable")&&(t.$pop.find(".J_form").trigger("blur"),t.$pop.find(".error").length<=0)){n.addClass("disable");for(var o in t.$forms){var a=t.$forms[o];"addressId"===a.attr("name")&&""===a.val()||(i[a.attr("name")]=a.val())}e.ajax({url:"/trade/address/getoken",data:null,type:"POST",dataType:"json",success:function(r){r&&r.status&&1001===r.status.code?(i.tn=r.result.tn,i.tv=r.result.tv,e.ajax({url:t.option.inter,data:i,type:"POST",dataType:"json",success:function(r){r&&r.status&&1001===r.status.code?(i.addressId=r.result.addressId,t.$pop.find(".J_select").each(function(t,r){var n=e(this),o=n.attr("name");i[o]=n.find("option").filter(":selected").html()}),i=s(i),t.box.hide(),t.callback&&t.callback(i)):r&&r.status?MOGU.alert(r.status.msg):MOGU.alert("\u7f51\u7edc\u9519\u8bef\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5")},complete:function(){n.removeClass("disable")}})):MOGU.alert("\u767b\u5f55\u4fe1\u606f\u9519\u8bef\uff0c\u8bf7\u5237\u65b0\u9875\u9762\u91cd\u8bd5")}})}}),t.$pop.find(".lb_close").off("click"),t.$pop.on("click",".lb_close",function(e){e.preventDefault(),t.box.hide()}),t.$pop.on("click",".J_cancelbtn",function(e){e.preventDefault(),t.box.hide()}),t.$forms.province.on("change",function(r,i,n){var o=e(this).val();t.$forms.city.trigger("update",[o,i,n])}),t.$forms.city.on("change",function(r,i){var n=e(this).val();t.$forms.area.trigger("update",[n,i])}).on("update",function(r,i,n,o){var a=e(this);t.updateAddressSelect(a,2,i,n,function(){a.trigger("change",o)})}),t.$forms.area.on("update",function(r,i,n){t.updateAddressSelect(e(this),3,i,n)})};var l=function(e,i,n){!e||e.length<=0||(r=e.data("_obj_editaddress"),r?r.set(i,n):(r=new t(e,i,n),e.data("_obj_editaddress",r)),r.show())};MOGU.editAddressBox=l}(jQuery),MOGU.editAddressBox}.call(t,r,t,e),!(void 0!==i&&(e.exports=i))},function(e,t,r){var i;i=function(){var t=t||{};t.presale=function(){var e=$(".presale-rule"),t=!1,r=['<div class="rule-wrap">','<div class="rule-title"><img src="http://s7.mogucdn.com/p1/160428/wy_ie4tiy3egnstemrthazdambqgqyde_234x193.png"></div>',"<span></span>",'<div class="rule-content">',"<p>1.\u9884\u552e\u5546\u54c1\u4e0b\u5355\u540e\uff0c\u8bf7\u572830\u5206\u949f\u5185\u652f\u4ed8\u5b9a\u91d1\uff0c\u8d85\u65f6\u8ba2\u5355\u5c06\u81ea\u52a8\u5173\u95ed\u3002</p>","<p>2.\u5b9a\u91d1\u4ed8\u6b3e\u540e\uff0c\u5c3e\u6b3e\u652f\u4ed8\u524d\uff0c\u5b9a\u91d1\u4e0d\u53ef\u7533\u8bf7\u9000\u6b3e\u3002</p>","<p>3.\u5c3e\u6b3e\u652f\u4ed8\u65f6\u95f4\u4ee5\u5546\u54c1\u8be6\u60c5\u9875\u4e0a\u7684\u8bf4\u660e\u4e3a\u51c6\u3002\u8bf7\u5728\u201c\u6211\u7684\u8ba2\u5355\u201d\u9875\u9762\u627e\u5230\u76f8\u5e94\u8ba2\u5355\u652f\u4ed8\u5c3e\u6b3e\uff0c\u5c3e\u6b3e\u652f\u4ed8\u6210\u529f\u5373\u5b8c\u6210\u5546\u54c1\u8d2d\u4e70\u3002</p>","<p>4.\u4e70\u5bb6\u6210\u529f\u652f\u4ed8\u5c3e\u6b3e\u5e76\u5b8c\u6210\u5168\u90e8\u4ea4\u6613\u6d41\u7a0b\u540e\uff0c\u5b9a\u91d1\u5373\u62b5\u4f5c\u5546\u54c1\u8d27\u6b3e\u3002</p>","<p>5.\u4e70\u5bb6\u672a\u5728\u89c4\u5b9a\u65f6\u95f4\u5185\u652f\u4ed8\u5c3e\u6b3e\u6216\u56e0\u975e\u5356\u5bb6\u539f\u56e0\u8981\u6c42\u9000\u8d27\uff0c\u65e0\u6743\u8981\u6c42\u5356\u5bb6\u8fd4\u8fd8\u5b9a\u91d1\u3002</p>","<p>6.\u5356\u5bb6\u672a\u5728\u89c4\u5b9a\u65f6\u95f4\u5185\u53d1\u8d27\uff0c\u5728\u5e73\u53f0\u539f\u6709\u5904\u7f5a\u57fa\u7840\u4e0a\u5e94\u989d\u5916\u5411\u4e70\u5bb6\u8d54\u4ed8\u4e00\u500d\u5b9a\u91d1\u3002</p>","<p>7.\u5546\u5bb6\u627f\u8bfa\u7684\u53d1\u8d27\u65f6\u95f4\u5c06\u4ece\u5c3e\u6b3e\u652f\u4ed8\u5b8c\u6210\u7684\u65f6\u95f4\u5f00\u59cb\u8ba1\u7b97\u3002\u5177\u4f53\u53d1\u8d27\u65f6\u95f4\u8bf7\u4ee5\u9884\u552e\u5546\u54c1\u8be6\u60c5\u9875\u9762\u4e2d\u7684\u201c\u53d1\u8d27\u627f\u8bfa\u670d\u52a1\u201d\u4e3a\u51c6\u3002</p>","<p>8.\u5982\u679c\u63d0\u4f9b\u8d60\u54c1\uff0c\u8d60\u54c1\u6309\u5b9a\u91d1\u4ed8\u6b3e\u6210\u529f\u65f6\u95f4\u7684\u5148\u540e\u987a\u5e8f\u8fdb\u884c\u8d60\u9001\u3002</p>","<p>9.\u9884\u552e\u5546\u54c1\u4e0d\u4eab\u53d7\u5176\u4ed6\u4fc3\u9500\u4f18\u60e0\uff0c\u652f\u4ed8\u5b9a\u91d1\u548c\u5c3e\u6b3e\u65f6\u4e0d\u53ef\u4f7f\u7528\u7ea2\u5305\u3001\u5e97\u94fa\u4f18\u60e0\u5238\u3001\u7f8e\u7f8e\u8c46\u3002</p>","</div>","</div>"].join("");e.on("click",function(e){if(e.stopPropagation(),t)return void $(".rule-wrap").show();t=!0;var i,n=MoGu.ui.getTemplate(r,i);$(".presale-container").append(n)}),$(document).on("click",function(e){t&&$(".rule-wrap").hide()}),$(document).on("click",".rule-wrap",function(e){e.stopPropagation()})},e.exports={init:t.presale}}.call(t,r,t,e),!(void 0!==i&&(e.exports=i))},function(e,t,r){var i;i=function(){MGLightBox=function(e){var t=this,r={title:"",titleLink:"",titleLinkText:"",lightBoxId:"",ajax:!1,contentHtml:"",scroll:!1,isBgClickClose:!0,resizeshow:!0,closeCallBack:function(){}},i=null,n='<div id="{id}" class="light_box"><iframe frameborder="0" scrolling="no" class="lb_fix"></iframe>{content}</div>',o='<table class="lb_wrap clearfix r5"><tbody><tr><td><div class="lb_hd">{title}{title_link}<a href="javascript:;" class="lb_close">\xd7</a></div><div class="lb_bd">{body}</div></td></tr></tbody></table>',a='<div class="light_box_fullbg"></div>',s='<table class="lb_info r5"><tbody><tr><td><div class="lb_l">{text}......\uff08<a class="lb_cs" href="javascript:;">\u53d6\u6d88</a>\uff09</div></td></tr></tbody></table>',l='<table class="lb_info r5"><tbody><tr><td><div class="lb_s">{text}</div></td></tr></tbody></table>',d='<table class="lb_info r5"><tbody><tr><td><div class="lb_f">{text}</div></td></tr></tbody></table>',c=$.extend(r,e),u=null,p=null,f=null,h=!1,m=function(){var e=(document.documentElement.scrollTop||document.body.scrollTop)+((document.documentElement.clientHeight||document.body.clientHeight)-u.height())/2,t=window.location.toString();return 0>e?e=0:t.indexOf("is_qzone")>0&&(e/=6),e};t.getBoxFrame=function(){return u},t.getFrameId=function(){return c.lightBoxId},t.getBackground=function(){return f},t.close=function(){i&&i.abort(),u.hide(),c.closeCallBack(),u.remove(),0==$(".light_box").size()&&f.remove(),$("body").unbind("keydown")},t.hide=function(){u.hide(),f.hide(),$("body").unbind("keydown")},t.show=function(){u.show(),f.show()},t.resize=function(){var e=$(window).width(),t=(e-u.width())/2,r=m();if(p.css({width:u.width(),height:u.height()}),$.browser.msie&&"6.0"==$.browser.version&&f.css("height",document.documentElement.clientHeight||document.body.clientHeight),c.scroll)if($.browser.msie&&"6.0"==$.browser.version)u.css({left:t,top:r}).show(),h||$(window).scroll(function(){var e=m();u.css("top",e)});else{r=((document.documentElement.clientHeight||document.body.clientHeight)-u.height())/2;var i=window.location.toString();0>r?r=0:i.indexOf("is_qzone")>0&&(r/=6),u.css({left:t,top:r,position:"fixed"}).show()}else u.css({left:t,top:r}).show()},t.init=function(){if(""!=c.lightBoxId){var e=n.replace(/{id}/g,c.lightBoxId).replace(/{content}/,o);c.title&&""!=c.title&&(e=e.replace(/{title}/g,'<span class="lb_title">'+c.title+"</span>")),e=""!=c.titleLinkText?e.replace(/{title_link}/g,'<span class="lb_lnk">\uff08<a href="'+c.titleLink+'" target="_blank">'+c.titleLinkText+"</a>\uff09</span>"):e.replace(/{title_link}/g,""),e=c.ajax?e.replace(/{body}/g,""):e.replace(/{body}/g,c.contentHtml);var r=$(".light_box_fullbg");0==r.size()?$("body").append(e+a):($("body").append(e),r.eq(0).show()),u=$("#"+c.lightBoxId),p=$(".lb_fix"),f=$(".light_box_fullbg"),c.ajax?t.loading():(t.resize(),c.resizeshow&&$(window).resize(function(){u.filter(":visible").length<=0||t.resize()}),u.find(".lb_close").click(function(){t.close()})),c.isBgClickClose&&$(".light_box_fullbg").click(function(){t.close()})}},t.fadeout=function(){i&&i.abort(),u.fadeOut(500),f.fadeOut(500,function(){t.close()})},t.startAjax=function(e){i=e},t.buildContent=function(e){if(0==u.find(".lb_wrap").size()){var r=o.replace(/{body}/,e);c.title&&""!=c.title&&(r=r.replace(/{title}/g,'<span class="lb_title">'+c.title+"</span>")),r=""!=c.titleLinkText?r.replace(/{title_link}/g,'<span class="lb_lnk">\uff08<a href="'+c.titleLink+'" target="_blank">'+c.titleLinkText+"</a>\uff09</span>"):r.replace(/{title_link}/g,""),u.find(".lb_info").after(r).remove(),$("#"+c.lightBoxId+" .lb_close").click(function(){t.close()})}else u.find(".lb_bd").html(e);t.resize()},t.success=function(e){var r=l.replace(/{text}/,e);u.find(".lb_wrap").after(r).remove(),t.resize(),setTimeout(function(){t.fadeout()},1e3)},t.success_close=function(e,r){var i=l.replace(/{text}/,e);u.find(".lb_wrap").after(i).remove(),t.resize();var r=r||1e3;setTimeout(function(){t.close()},r)},t.fail=function(e,r){var i=d.replace(/{text}/,e);u.find(".lb_wrap").after(i).remove(),t.resize();var r=r||2e3;setTimeout(function(){t.close()},r)},t.loading=function(e){e=e||"\u8bf7\u7a0d\u540e";var r=s.replace(/{text}/,e);u.find(".lb_wrap").after(r).remove(),t.resize(),u.find(".lb_l .lb_cs").click(function(){t.close()}),t.resize()}},e.exports=MGLightBox}.call(t,r,t,e),!(void 0!==i&&(e.exports=i))},function(e,t,r){var i;i=function(){var t=t||{};t.cartAddress=function(){var e=$("#cartAddress"),t=($("#addressCtrl"),$("#J_addAddress")),r=($(".cart_page_wrap").eq(0),$("#cartAddressList")),i=$("#cartAddressOther"),n=$("#J_otherAddrWrap"),o=$("#addressId"),a=$("#orderForm"),s=($("#J_xm_wrap"),$("#J_xmaddress"),$("#xmMatched"),['<li data-aid="{{=it.addressId}}">','<a href="javascript:;" class="cart_address_card addressCard" data-aid="{{=it.addressId}}">','<h5 class="cart_address_tit">{{=it.name}}</h5>','<p class="cart_address_street">{{=it.street}}</p>','<p class="cart_address_zipinfo" data-postcode="{{=it.postcode}}" data-province="{{=it.province}}" data-city="{{=it.city}}" data-area="{{=it.area}}">{{=it.province}}{{=it.city}}{{=it.area}} {{=it.postcode}}</p>','<p class="cart_address_mobile">{{?it.mobile}}{{=it.mobile}}{{??}}{{=it.phone}}{{?}}</p>','<i class="cart_address_edit">\u7f16\u8f91</i>',"</a>","</li>"].join("")),l=(['<li data-storeid="{{=it.xmStoreId}}">','<a href="javascript:;" class="cart_address_card addressXMCard" data-storeid="{{=it.xmStoreId}}">','<h5 class="cart_address_tit">{{=it.person}}</h5>','<p class="cart_address_xmstreet" title="{{=it.addr}}">{{=it.addr}}</p>','<p class="cart_address_zipinfo">{{=it.province}}{{=it.city}}{{=it.area}}</p>','<p class="cart_address_mobile">\u8054\u7cfb\u7535\u8bdd: {{=it.phone}}</p>',"</a>","</li>"].join(""),function(){var e=r.find(".selected").eq(0);if(e.length>0){var t=e.parent().attr("data-aid");o.val(t)}else MOGU.editAddressBox(n,function(e){d(e)})}),d=function(t){if(t.addressId&&0===r.find("li").length){var i=navigator.userAgent.toLowerCase();return i.indexOf("safari")>-1&&-1==i.indexOf("chrome")?void $("#compForm").submit():void window.location.reload()}var n=r.find(".addressCard").filter("[data-aid="+t.addressId+"]");n.length>0?n.parent().after(MoGu.ui.getTemplate(s,t)).remove():r.prepend(MoGu.ui.getTemplate(s,t));var o=r.find(".addressCard").length;1===o&&r.css("height",r.find("li").eq(0).outerHeight()),o>4&&e.find(".allAddressSwitch").show(),e.find(".addressCard").filter("[data-aid="+t.addressId+"]").trigger("click")},c=function(){var s="cart_address_other_hide";e.on("click",".allAddressSwitch",function(e){e.preventDefault();var t=$(this),i=r.find("li"),n=i.length,o=i.eq(0).outerHeight();t.remove(),r.stop().animate({height:Math.ceil(n/4)*o},500,function(){$(this).css("height","auto")})}),e.on("click",".addOtherAddress",function(){MOGU.editAddressBox(n,function(e){d(e)})}),e.on("click","#J_addAddress",function(){t.hide(),MOGU.editAddressBox(n,function(e){d(e)})}),e.on("click",".J_cancelbtn",function(){r.find("li").length<=0&&t.show()}),r.on("click",".addressCard",function(){var t=$(this);if(t.hasClass("selected"))return void(r.hasClass("s-selectedXm")&&(r.removeClass("s-selectedXm"),e.find(".selected").removeClass("selected"),t.addClass("selected")));r.removeClass("s-selectedXm"),e.find(".selected").removeClass("selected"),t.addClass("selected");var i=t.parent().attr("data-aid");o.val(i),a.trigger("change:data")}),e.on("mouseenter",".addressCard",function(){$(this).find(".cart_address_edit").show()}).on("mouseleave",".addressCard",function(){$(this).find(".cart_address_edit").hide()}).on("click",".cart_address_edit",function(){var e=$(this).parent();return i.removeClass(s),MOGU.editAddressBox(n,function(e){d(e)},{address:{province:e.find(".cart_address_zipinfo").attr("data-province"),city:e.find(".cart_address_zipinfo").attr("data-city"),area:e.find(".cart_address_zipinfo").attr("data-area"),postcode:e.find(".cart_address_zipinfo").attr("data-postcode"),street:e.find(".cart_address_street").html(),name:e.find(".cart_address_tit").html(),mobile:e.find(".cart_address_mobile").html(),addressId:e.attr("data-aid")}}),!1})};l(),c()},e.exports={init:t.cartAddress}}.call(t,r,t,e),!(void 0!==i&&(e.exports=i))},function(e,t,r){function i(e){return e&&e.__esModule?e:{"default":e}}var n,o,a=r(10),s=i(a);n=[],o=function(){var t=t||{};t.modou=function(){var e=$(".modou-checkbox"),t=$(".modou-input"),r=$(".modou-use-num"),i=$(".goodsSum"),n=+$(".max-modou-use").val();r.css("ime-mode","disabled"),e.on("click",function(){if($(this).is(":checked"))t.show(),r.focus();else{t.hide(),t.find(".modou-use-num").val(""),$(this).blur();var e=+i.attr("finalprice");$(".modou-cut-money").html("0.00"),i.html("\xa5 "+(0,s["default"])(e.toFixed(2)).format("0,0.00"))}}),r.on("keypress",function(e){var t=e.keyCode?e.keyCode:e.which;if($.browser.msie||8!=e.keyCode)return t>=48&&57>=t}),r.on("keyup",function(){n=+$(".max-modou-use").val();var e=+$(this).val();if(!/^\d*$/.test(e)&&""!=e)return void $(this).val($(this).attr("old-value"));$(this).attr("old-value",e),e>n?(t.find(".modou-use-errortip p").text("\u672c\u6b21\u4ea4\u6613\u6700\u591a\u4f7f\u7528\u8611\u8c46"+n+"\u7c92"),$(this).val(n),t.find(".modou-cut-money").text((n/100).toFixed(2)),t.find(".modou-use-errortip").show()):(t.find(".modou-use-errortip").hide(),t.find(".modou-cut-money").text((e/100).toFixed(2)));var r=+$(".modou-cut-money").html(),o=+i.attr("finalprice");i.html("\xa5 "+(0,s["default"])((o-r).toFixed(2)).format("0,0.00"))}),r.on("blur",function(){t.find(".modou-use-errortip").hide();var r=+$(".modou-cut-money").html(),n=+i.attr("finalprice");""!=$(this).val()&&"0"!=$(this).val()||(t.hide(),e.prop("checked",!1)),i.html("\xa5 "+(0,s["default"])((n-r).toFixed(2)).format("0,0.00"))})},e.exports={init:t.modou}}.apply(t,n),!(void 0!==o&&(e.exports=o))},function(e,t,r){var i,n;(function(){function r(e){this._value=e}function o(e,t,r,i){var n,o,a=Math.pow(10,t);return o=(r(e*a)/a).toFixed(t),i&&(n=new RegExp("0{1,"+i+"}$"),o=o.replace(n,"")),o}function a(e,t,r){var i;return i=t.indexOf("$")>-1?l(e,t,r):t.indexOf("%")>-1?d(e,t,r):t.indexOf(":")>-1?c(e,t):p(e._value,t,r)}function s(e,t){var r,i,n,o,a,s=t,l=["KB","MB","GB","TB","PB","EB","ZB","YB"],d=!1;if(t.indexOf(":")>-1)e._value=u(t);else if(t===b)e._value=0;else{for("."!==_[y].delimiters.decimal&&(t=t.replace(/\./g,"").replace(_[y].delimiters.decimal,".")),r=new RegExp("[^a-zA-Z]"+_[y].abbreviations.thousand+"(?:\\)|(\\"+_[y].currency.symbol+")?(?:\\))?)?$"),i=new RegExp("[^a-zA-Z]"+_[y].abbreviations.million+"(?:\\)|(\\"+_[y].currency.symbol+")?(?:\\))?)?$"),n=new RegExp("[^a-zA-Z]"+_[y].abbreviations.billion+"(?:\\)|(\\"+_[y].currency.symbol+")?(?:\\))?)?$"),o=new RegExp("[^a-zA-Z]"+_[y].abbreviations.trillion+"(?:\\)|(\\"+_[y].currency.symbol+")?(?:\\))?)?$"),a=0;a<=l.length&&!(d=t.indexOf(l[a])>-1?Math.pow(1024,a+1):!1);a++);e._value=(d?d:1)*(s.match(r)?Math.pow(10,3):1)*(s.match(i)?Math.pow(10,6):1)*(s.match(n)?Math.pow(10,9):1)*(s.match(o)?Math.pow(10,12):1)*(t.indexOf("%")>-1?.01:1)*((t.split("-").length+Math.min(t.split("(").length-1,t.split(")").length-1))%2?1:-1)*Number(t.replace(/[^0-9\.]+/g,"")),e._value=d?Math.ceil(e._value):e._value}return e._value}function l(e,t,r){var i,n,o=t.indexOf("$"),a=t.indexOf("("),s=t.indexOf("-"),l="";return t.indexOf(" $")>-1?(l=" ",t=t.replace(" $","")):t.indexOf("$ ")>-1?(l=" ",t=t.replace("$ ","")):t=t.replace("$",""),n=p(e._value,t,r),1>=o?n.indexOf("(")>-1||n.indexOf("-")>-1?(n=n.split(""),i=1,(a>o||s>o)&&(i=0),n.splice(i,0,_[y].currency.symbol+l),n=n.join("")):n=_[y].currency.symbol+l+n:n.indexOf(")")>-1?(n=n.split(""),n.splice(-1,0,l+_[y].currency.symbol),n=n.join("")):n=n+l+_[y].currency.symbol,n}function d(e,t,r){var i,n="",o=100*e._value;return t.indexOf(" %")>-1?(n=" ",t=t.replace(" %","")):t=t.replace("%",""),i=p(o,t,r),i.indexOf(")")>-1?(i=i.split(""),i.splice(-1,0,n+"%"),i=i.join("")):i=i+n+"%",i}function c(e){var t=Math.floor(e._value/60/60),r=Math.floor((e._value-60*t*60)/60),i=Math.round(e._value-60*t*60-60*r);return t+":"+(10>r?"0"+r:r)+":"+(10>i?"0"+i:i)}function u(e){var t=e.split(":"),r=0;return 3===t.length?(r+=60*Number(t[0])*60,r+=60*Number(t[1]),r+=Number(t[2])):2===t.length&&(r+=60*Number(t[0]),r+=Number(t[1])),Number(r)}function p(e,t,r){var i,n,a,s,l,d,c=!1,u=!1,p=!1,f="",h=!1,m=!1,v=!1,g=!1,x=!1,$="",k="",w=Math.abs(e),O=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],S="",C=!1;if(0===e&&null!==b)return b;if(t.indexOf("(")>-1?(c=!0,t=t.slice(1,-1)):t.indexOf("+")>-1&&(u=!0,t=t.replace(/\+/g,"")),t.indexOf("a")>-1&&(h=t.indexOf("aK")>=0,m=t.indexOf("aM")>=0,v=t.indexOf("aB")>=0,g=t.indexOf("aT")>=0,x=h||m||v||g,t.indexOf(" a")>-1?(f=" ",t=t.replace(" a","")):t=t.replace("a",""),w>=Math.pow(10,12)&&!x||g?(f+=_[y].abbreviations.trillion,e/=Math.pow(10,12)):w<Math.pow(10,12)&&w>=Math.pow(10,9)&&!x||v?(f+=_[y].abbreviations.billion,e/=Math.pow(10,9)):w<Math.pow(10,9)&&w>=Math.pow(10,6)&&!x||m?(f+=_[y].abbreviations.million,e/=Math.pow(10,6)):(w<Math.pow(10,6)&&w>=Math.pow(10,3)&&!x||h)&&(f+=_[y].abbreviations.thousand,e/=Math.pow(10,3))),t.indexOf("b")>-1)for(t.indexOf(" b")>-1?($=" ",t=t.replace(" b","")):t=t.replace("b",""),a=0;a<=O.length;a++)if(i=Math.pow(1024,a),n=Math.pow(1024,a+1),e>=i&&n>e){$+=O[a],i>0&&(e/=i);break}return t.indexOf("o")>-1&&(t.indexOf(" o")>-1?(k=" ",t=t.replace(" o","")):t=t.replace("o",""),k+=_[y].ordinal(e)),t.indexOf("[.]")>-1&&(p=!0,t=t.replace("[.]",".")),s=e.toString().split(".")[0],l=t.split(".")[1],d=t.indexOf(","),l?(l.indexOf("[")>-1?(l=l.replace("]",""),l=l.split("["),S=o(e,l[0].length+l[1].length,r,l[1].length)):S=o(e,l.length,r),s=S.split(".")[0],S=S.split(".")[1].length?_[y].delimiters.decimal+S.split(".")[1]:"",p&&0===Number(S.slice(1))&&(S="")):s=o(e,null,r),s.indexOf("-")>-1&&(s=s.slice(1),C=!0),d>-1&&(s=s.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+_[y].delimiters.thousands)),0===t.indexOf(".")&&(s=""),(c&&C?"(":"")+(!c&&C?"-":"")+(!C&&u?"+":"")+s+S+(k?k:"")+(f?f:"")+($?$:"")+(c&&C?")":"")}function f(e,t){_[e]=t}function h(e){var t=e.toString().split(".");return t.length<2?1:Math.pow(10,t[1].length)}function m(){var e=Array.prototype.slice.call(arguments);return e.reduce(function(e,t){var r=h(e),i=h(t);return r>i?r:i},-(1/0))}var v,g="1.5.3",_={},y="en",b=null,x="0,0",$="undefined"!=typeof e&&e.exports;v=function(e){return v.isNumeral(e)?e=e.value():0===e||"undefined"==typeof e?e=0:Number(e)||(e=v.fn.unformat(e)),new r(Number(e))},v.version=g,v.isNumeral=function(e){return e instanceof r},v.language=function(e,t){if(!e)return y;if(e&&!t){if(!_[e])throw new Error("Unknown language : "+e);y=e}return!t&&_[e]||f(e,t),v},v.languageData=function(e){if(!e)return _[y];if(!_[e])throw new Error("Unknown language : "+e);return _[e]},v.language("en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return 1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th"},currency:{symbol:"$"}}),v.zeroFormat=function(e){b="string"==typeof e?e:null},v.defaultFormat=function(e){x="string"==typeof e?e:"0.0"},"function"!=typeof Array.prototype.reduce&&(Array.prototype.reduce=function(e,t){"use strict";if(null===this||"undefined"==typeof this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof e)throw new TypeError(e+" is not a function");var r,i,n=this.length>>>0,o=!1;for(1<arguments.length&&(i=t,o=!0),r=0;n>r;++r)this.hasOwnProperty(r)&&(o?i=e(i,this[r],r,this):(i=this[r],o=!0));if(!o)throw new TypeError("Reduce of empty array with no initial value");return i}),v.fn=r.prototype={clone:function(){return v(this)},format:function(e,t){return a(this,e?e:x,void 0!==t?t:Math.round)},unformat:function(e){return"[object Number]"===Object.prototype.toString.call(e)?e:s(this,e?e:x)},value:function(){return this._value},valueOf:function(){return this._value},set:function(e){return this._value=Number(e),this},add:function(e){function t(e,t,i,n){return e+r*t}var r=m.call(null,this._value,e);return this._value=[this._value,e].reduce(t,0)/r,this},subtract:function(e){function t(e,t,i,n){return e-r*t}var r=m.call(null,this._value,e);return this._value=[e].reduce(t,this._value*r)/r,this},multiply:function(e){function t(e,t,r,i){var n=m(e,t);return e*n*(t*n)/(n*n)}return this._value=[this._value,e].reduce(t,1),this},divide:function(e){function t(e,t,r,i){var n=m(e,t);return e*n/(t*n)}return this._value=[this._value,e].reduce(t),this},difference:function(e){return Math.abs(v(this._value).subtract(e).value())}},$&&(e.exports=v),"undefined"==typeof ender&&(this.numeral=v),i=[],n=function(){return v}.apply(t,i),!(void 0!==n&&(e.exports=n))}).call(void 0)}])}),"function"==typeof define&&define.amd&&require(["mls-pc/pages/index"]);